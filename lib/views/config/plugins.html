<div class="pick-runner clearfix">
  <h3>选择执行器[Runner]</h3>
  <p>
    执行器用于执行构建任务。如果不清楚如何选择，请不要更改此处设置。
  </p>
  {% for runner in runners %}
  <div ng-click="setRunner('{{ loop.key }}')"
       ng-class="{ active: branch.runner.id == '{{ loop.key }}'}"
       class="runner runner-{{ loop.key }}">
    <div class="img" style="background-image: url('/ext/{{ loop.key }}/{{ runner.icon }}')"></div>
    <span class="title">{{ runner.title }}</span>
  </div>
  {% endfor %}
</div>
<div class="pick-plugins clearfix">
  <h3>选择插件[Plugins]</h3>
  <p>
    将插件从［可选插件］列表中拖到［使用中］列表中可以开启插件。
    <!-- 安装更多插件，请点击<a href="{{serverName}}/admin/plugins">插件安装页</a>. -->
  </p>

  <p>
    插件将会被按照其排列顺序依次调用。可以在左侧Tab中选择对应的插件进行配置。
  </p>
  <div class="enabled-plugins">
    <h3>使用中</h3>
    <span ng-hide="branch.plugins.length" class="drop-here">拖到这里来</span>
    <ul class="enabled-plugins-list"
      ng-sortable="reorderPlugins"
      ng-sortable-key="id"
      ng-sortable-group="plugins"
      ng-sortable-added="enablePlugin"
      ng-sortable-source="plugins"
      ng-model="branch.plugins">
      <li class="plugin-item moveable clearfix"
        ng-sortable-id="[[plugin.id]]"
        ng-repeat="plugin in branch.plugins"
        ng-class="{ disabled: !plugin.enabled }">
        <div class="img" ng-style="plugin.imgStyle" ng-init="setImgStyle(plugin)"></div>
        <div class="rest">
          <span class="title">[[ plugins[plugin.id].title ]]</span>
          <label type="checkbox">
            <input ng-change="savePluginOrder()" ng-model="plugin.enabled" type="checkbox"> 开启
          </label>
          <label type="checkbox" ng-show="statusBlocks.job[plugin.id]">
            <input ng-change="savePluginOrder()" ng-model="plugin.showStatus" type="checkbox"> 显示状态
          </label>
        </div>
      </li>
    </ul>
  </div>
  <div class="disabled-plugins">
    <h3>可选插件</h3>
    <span class="drop-here" ng-hide="disabled_plugins[branch.name].length">拖到这里来</span>
    <ul class="disabled-plugins-list"
      ng-sortable
      ng-sortable-key="id"
      ng-sortable-group="plugins"
      ng-sortable-added="disablePlugin"
      ng-sortable-source="plugins"
      ng-model="disabled_plugins[branch.name]">
      <li class="plugin-item clearfix moveable"
        ng-repeat="plugin in disabled_plugins[branch.name]"
        ng-sortable-id="[[plugin.id]]">
        <div class="img" ng-style="plugin.imgStyle" ng-init="setImgStyle(plugin)"></div>
        <div class="rest">
          <span class="title">[[ plugins[plugin.id].title ]]</title>
        </div>
      </li>
    </ul>
  </div>
</div>
